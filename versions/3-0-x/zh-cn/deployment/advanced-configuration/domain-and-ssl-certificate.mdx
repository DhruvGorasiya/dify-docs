---
title: 域名和 SSL 证书
version: '简体中文'
---

## 域名要求
Dify Enterprise 需要设置 5 个域名。这些域名是：
- Console: console.dify.local
- Services API: api.dify.local
- APP: app.dify.local
- Files: upload.dify.local
- Enterprise: enterprise.dify.local

## 显示 Helm Chart 值

```bash
helm show values dify/dify
```

以下是 Helm chart 值中域名配置的示例。

```yaml
global:
  consoleApiDomain: "console.dify.local"
  consoleWebDomain: "console.dify.local"
  serviceApiDomain: "api.dify.local"
  appApiDomain: "app.dify.local"
  appWebDomain: "app.dify.local"
  filesDomain: "upload.dify.local"
  enterpriseDomain: "enterprise.dify.local"
  ... ...
```

## 如何配置 SSL 证书
### 生成 SSL 证书
```bash
kubectl create secret tls example-tls --key example.key --cert example.crt
````


### 更新 Helm 值
#### 将 `useTLS` 设置为 `true`
````yaml
global:
  useTLS: true
````


#### 更新 Ingress 值

如果你只有一个证书，可以这样设置：

````yaml
ingress:
  tls: 
  - hosts:
    - console.dify.local
    - app.dify.local
    - api.dify.local
    - upload.dify.local
    - enterprise.dify.local
    secretName: example-tls
````


如果你有多个证书，可以这样设置：

````yaml
ingress:
  tls: 
  - hosts:
    - console.dify.local
    secretName: example-tls
  - hosts:
    - app.dify.local
    secretName: example-tls-2
  - hosts:
    - api.dify.local
    secretName: example-tls-3
  - hosts:
    - upload.dify.local
    secretName: example-tls-4
  - hosts:
    - enterprise.dify.local
    secretName: example-tls-5
````

## Http/Https 缓存错误问题

在配置 SSL 证书之后，如果你在浏览器中遇到 http/https 的缓存错误，可以重启 Dify 服务来清除缓存。

```bash
kubectl rollout restart deployment dify-api
kubectl rollout restart deployment dify-web
kubectl rollout restart deployment dify-enterprise-frontend
```