---
title: 资源清单
version: '简体中文'
---

在开始部署之前，你需要准备以下资源。

## 要求
- Helm 3.14+
- Kubernetes 1.24+
    <Warning>
    1. `重要` 有关 [许可证激活](/versions/3-0-x/zh-cn/deployment/license-activation) 的信息，请联系你的 IT 团队以提供必要的权限。
        - ServiceAccount（必需）
        - Role / RoleBinding（必需）
    2. `重要` Kubernetes 集群必须支持 CRDs（[自定义资源定义](https://kubernetes.io/zh/docs/concepts/extend-kubernetes/api-extension/custom-resources/)）。
    3. `重要` Kubernetes 集群必须能够连接到 https://marketplace.dify.ai/。
    4. `警告` 如果你使用的是受限环境，请确保允许 Pod 以 `root` 身份运行（如 OpenShift）。
    </Warning>
- 支持的云提供商
    - AWS, Azure, Aliyun, Tencent Cloud, GCP
- 支持的容器镜像仓库（插件）
    - AWS ECR（with AK/SK or IRSA）/ Azure ACR / Aliyun ACR (with AK/SK) / Tencent TCR (with AK/SK) / Dockerhub / Google Artifact Registry
- 支持的持久化存储
    - S3 / AWS S3 (with AK/SK or IRSA) / Azure Blob / Aliyun OSS (with AK/SK) / Tencent COS (with AK/SK) / Google GCS

## 域名
Dify 企业版需要配置以下 `五个域名`：
| 目的                  |  域名                   |
| -------------------- | ----------------------- |
| Console              | `console.dify.local`    |
| Services API         | `api.dify.local`        |
| Web App              | `app.dify.local`        |
| File Upload          | `upload.dify.local`     |
| Enterprise Dashboard | `enterprise.dify.local` |

## 测试部署资源
- Kubernetes 集群
    - 1 个工作节点：4 CPU，16 GB RAM
- 容器镜像仓库（插件）
    - AWS ECR（with AK/SK or IRSA）/ Azure ACR / Aliyun ACR (with AK/SK) / Tencent TCR (with AK/SK) / Dockerhub / Google Artifact Registry
- 持久化存储
    - S3 / AWS S3 (with AK/SK or IRSA) / Azure Blob / Aliyun OSS (with AK/SK) / Tencent COS (with AK/SK) / Google GCS
    - 100 GB 存储空间
- Postgres 数据库
    - 版本 14+
    - 2 CPU，4 GB RAM
    - 256 GB 存储空间
- Redis 数据库
    - 版本 6+
    - 1 GB RAM
- 向量数据库虚拟机 - Qdrant 单节点
    - 1 台虚拟机
    - 4 CPU，8 GB RAM
    - 100 GB 存储空间

## 生产部署资源
- Kubernetes 集群
    - 6 个工作节点：每个 8 CPU，32 GB RAM
- 容器镜像仓库（插件）
    - AWS ECR（with AK/SK or IRSA）/ Azure ACR / Aliyun ACR (with AK/SK) / Tencent TCR (with AK/SK) / Dockerhub / Google Artifact Registry
- 持久化存储
    - S3 / AWS S3 (with AK/SK or IRSA) / Azure Blob / Aliyun OSS (with AK/SK) / Tencent COS (with AK/SK) / Google GCS
    - 512 GB 存储空间
- Postgres 数据库
    - 版本 14+
    - 4 CPU，8 GB RAM
    - 512 GB `SSD` 存储空间
- Redis 数据库
    - 版本 6+
    - 2 GB RAM
- 向量数据库虚拟机 - Qdrant 集群
    - 3 台虚拟机
    - 8 CPU，64 GB RAM
    - 100 GB 存储空间
