---
title: Create from Knowledge Pipeline
---

A knowledge pipeline is a document processing workflow that transforms raw data into searchable knowledge bases. Think of orchestrating a workflow, now you can visually combine and configure different processing nodes and tools to optimize data processing for better accuracy and relevance.

Every knowledge pipeline normally follows a structured flow through four key steps:

**Data Sources → Data Extraction → Data Processing → Knowledge Storage**

Each step serves a specific purpose: gathering content from various sources, converting it to processable text, refining it for search, and storing it in a format that enables fast, accurate retrieval.

Dify provides built-in pipeline templates that is optimized for certain use cases, or you can also create knowledge pipelines from scratch. In this session, we will go through creating options, general process of building knowledge pipelines, and how to manage it. 

## Step 1: Create Knowledge Pipeline

Navigate to Knowledge at the top, then click Create from Knowledge Pipeline on the left. There're three ways for you to get started.

### Build from Scratch

Click Blank Knowledge Pipeline to build a custom pipeline from scratch. Choose this option when you need custom processing strategies based on specific data source and business requirements.

### Import a DSL File

Import a DSL file of a previously exported knowledge pipeline to quickly reuse existing configurations and modify them for different scenarios or requirements. Navigate to the bottom left of the page and click **Import from a DSL File**.

Dify DSL is a YAML-based standard that defines AI application configurations, including model parameters, prompt design, and workflow orchestration. Similar to workflow DSL, knowledge pipeline uses the same YAML format standard to define processing workflows and configurations within a knowledge base. 

What's in a knowledge pipeline DSL:

| Name                    | Description                                                       |
|-------------------------|-------------------------------------------------------------------|
| Data Sources            | Local files, websites, online documents, online drive, web crawler|
| Data Processing         | Document extraction, content chunking, cleaning strategies        |
| Knowledge Configuration | Indexing methods, retrieval settings, storage parameters          |
| Node Orchestration      | Arrangement and sequence                                          |
| User Input Form         | Custom parameter fields (if configured)                           |

### Templates
Dify offers two types of templates: **Built-in Pipeline** and **Customized**. Both template cards display name of knowledge base, description, and tags (including chunk structure).

#### Built-in Pipeline
Built-in pipelines are official knowledge base templates pre-configured by Dify. These templates are optimized for common document structures and use cases. Simply click **Choose** to get started.

**Types**
| Name | Chunk Structure | Index Method | Retrieval Setting | Description |
|------|-----------------|--------------|-------------------|-------------|
| General Mode-ECO | General | Economical | Inverted Index | Divide document content into smaller paragraphs, directly used for matching user queries and retrieval. |
| Parent-child-HQ | Parent-Child | High Quality | Hybrid Search | Adopt advanced chunking strategy, dividing document text into larger parent chunks and smaller child chunks. The parent chunks contain child chunks which ensure both retrieval precision and maintain contextual integrity. |
| Simple Q&A | Question & Answer | High Quality | Vector Search | Convert tabular data into question-answer format, using question matching to quickly hit corresponding answer information. |
| Complex PDF with Images & Tables | Parent-child | High Quality | Hybrid Search - Weighted Score | Extract image and table content from PDF files. |
| Contextual Enrichment Using LLM | Parent-child | High Quality | Hybrid Search - Weighted Score | Extract images and tables from documents and automatically generate descriptive annotations by using large language models, achieving intelligent contextual enhancement. |
| Convert to Markdown | Parent-child | High Quality | Hybrid Search - Weighted Score | Designed for Office native file formats such as DOCX, XLSX, and PPTX, converting them to Markdown format for better information processing. ⚠️ Note: PDF files are not recommended. |
| LLM Generated Q&A | Question & Answer | High Quality | Vector Search | Generate structured question-answer pairs with large language models based on original text paragraphs. Find relevant answer by using question matching mechanism. |

To preview the selected built-in pipeline, click **Details** on any template card. Then, check information in the popup window, including: orchestration structure, pipeline description, and chunk structure. Click **Use this Knowledge Pipeline** for orchestration.

#### Customized

Customized templates are user-created and published knowledge pipeline. You can choose a template to start, export the DSL, or view detailed information for any template. 

To create a knowledge base from a template, click **Choose** on the template card. You can also create knowledge base by clicking **Use this Knowledge Pipeline** when previewing a template. Click **More** to edit pipeline information, export DSL, or delete the template.

## Step 2: Orchestrate Knowledge Pipeline

Think of this step as designing the workflow that is used to process different types of content. Here, you can visually build, adjust, and debug each node on this knowledge pipeline. 

### Interface Status

When entering the knowledge pipeline orchestration canvas, you’ll see:
- **Tab Status**: Documents, Retrieval Test, and Settings tabs will be grayed out and unavailable at the moment
- **Essential Steps**: You must complete knowledge pipeline orchestration and publishing before uploading files

`Screenshot`

### Pipeline Orchestration
Your starting point depends on the template choice you made previously. If you chose **Blank Knowledge Pipeline**, you'll see a canvas that contains Knowledge Base node only. There'll be a note with guide next to the node that walks you through the general steps of pipeline creation.

If you selected a specific pipeline template, there'll be a ready-to-use workflow that you can use or modify on the canvas right away. 

<Warning>
Explore Knowledge Pipeline Orchestration for step-by-step instructions.
</Warning>

### User Input Field

Create **User Input Field** forms to define and collect variables needed for pipeline execution. This customizable form allows users to fill in parameters when uploading files, accommodating different data sources or document processing requirements.

### Name the Knowledge Base

By default, the knowledge base name will be "Untitled + number", permissions are set to "Only me", and the icon will be an orange book. If you import it from a DSL file, it will use the saved icon.

Edit knowledge base inforamtion by clicking **Settings** in the left panel and fill in the information below:
- **Name & Icon**      
  Pick a name for your knowledge base.     
  Choose an emoji, upload an image, or paste an image URL as the icon of this knowledge base.
- **Knowledge Description**
  Provide a brief description of your knowledge base. This helps the AI better understand and retrieve your data. If left empty, Dify will apply the default retrieval strategy.
- **Permissions**     
  Select the appropriate access permissions from the dropdown menu.

## Step 3: Publish Knowledge Pipeline

After completing pipeline orchestration and debugging, click **Publish** and **Confirm** in the pop-up window. 

<Warning>
Important reminder: Once published, the chunk structure cannot be modified.
</Warning>

Once published, you can optionally use **Publish as a Knowledge Pipeline** to save it as a reusable template that will appear in the Customized section for future use.

<Warning>
Limitation: **Publish as a Knowledge Pipeline** is not available in Sandbox plan. To save and publish as a knowledge pipeline, please [upgrade](https://dify.ai/pricing) to professional or team plans. 
</Warning>

## Step 4: Upload Files

After publishing knowledge pipeline, there're two ways to upload files as below:
A: Click **Go to Documents** in the success notification to add or manage documents. After entering Documents page, click **Add File** to upload.

B: Click **Go to Add Documents** to add documents.

### Upload Process
1. Select Data Source
   Choose from the data source types configured in your pipeline. Dify currently supports 4 types of data sources: File Upload (pdf, docx, etc.), Online Drive (Google Drive, OneDrive, etc.), Online Doc (Notion), and Web Crawler (Jina Reader, Firecrawl). 
   Please visit [Dify Marketplace](https://marketplace.dify.ai/) to install additional data sources.

2. Fill in Processing Parameters and Preview
   If you configured user input fields during pipeline orchestration, users will need to fill in the required parameters and variables at this step. After completing the form, click **Preview** to see chunking results. Click **Save & Process** to complete knowledge base creation and start data processing.
   <Warning>
   Important reminder: Chunk structure remains consistent with the pipeline configuration and won't change with user input parameters.
   </Warning>

3. Process Documents
   Track the progress of document processing. After embedding is completed, click **Go to Document**.

4. Access Documents List
   Click **Go to Documents** to view the Documents page, where you can browse all uploaded file, processing status, etc.  

## Step 5: Manage and Use Knowledge Base

After creating your knowledge base, continuous management and optimization will provide accurate contextual information for your applications. These are the  options for follow-up maintenance. 

### Knowledge Pipeline
View and modify your orchestrated pipeline nodes and configurations. 

<Warning>
Find more information in Manage Knowledge.
</Warning>