---
title: Template
---

The Template node transforms and formats data from multiple sources into structured text using Jinja2 templating. It's your go-to solution for combining variables, formatting outputs, and preparing data for downstream nodes or end users.

Think of templates as smart text builders. Instead of static text, you create dynamic content that adapts based on your workflow data - perfect for generating reports, formatting API responses, or creating structured prompts for LLMs.

<img src="https://assets-docs.dify.ai/2025/04/0838bb5c7e1d1a58ed30fcd9fc48920f.png" width="300" />

## Beyond Simple Text Combination

Jinja2 gives you programming-like capabilities within templates. Here's how to structure knowledge retrieval results into formatted markdown with loops, conditionals, and filters:

```jinja2
{% for item in chunks %}
### Chunk {{ loop.index }}
**Similarity Score**: {{ item.metadata.score | default('N/A') }}

#### {{ item.title }}

{{ item.content | replace('\n', '\n\n') }}

---
{% endfor %}
```

![](https://assets-docs.dify.ai/2025/04/0ae3f13cf725cb2c52c72cc354e592ee.png)

This template processes arrays of data (like knowledge retrieval results) and formats each item consistently. The `loop.index` gives you the current position, `default('N/A')` handles missing data gracefully, and `replace()` filters format text properly.

**Pro Tip**: Use templates in Chatflow to send intermediate results to users before final LLM processing. The Answer node in Chatflow is non-terminal - you can output multiple times during a single conversation turn.

## Interactive Forms

Templates can generate interactive HTML forms that users can fill out directly in the chat interface. This creates rich, structured data collection without leaving the conversation:

```html
<form data-format="json">
  <label for="username">Username:</label>
  <input type="text" name="username" />
  
  <label for="password">Password:</label>
  <input type="password" name="password" />
  
  <label for="content">Message:</label>
  <textarea name="content"></textarea>
  
  <label for="priority">Priority:</label>
  <input type="select" name="priority" data-options='["low","medium","high"]'/>
  
  <input type="checkbox" name="urgent" data-tip="Mark as urgent"/>
  <button data-size="small" data-variant="primary">Submit</button>
</form>
```

<img
src="https://assets-docs.dify.ai/2025/04/9d24e9cfa3cdde00e4eee15bd4bbea76.png"
width="300"
className="mx-auto"
alt="Interactive form rendering"
/>

When users submit the form, their responses become structured data (JSON format) that your workflow can process immediately.

## Common Template Patterns

**Conditional Content**: Show different content based on data values
```jinja2
{% if user.subscription == 'premium' %}
Welcome back, Premium Member!
{% else %}
Consider upgrading to Premium for more features.
{% endif %}
```

**Data Formatting**: Transform raw data into user-friendly formats
```jinja2
Last updated: {{ timestamp | strftime('%B %d, %Y at %I:%M %p') }}
Status: {{ status | upper | replace('_', ' ') }}
```

**Error Handling**: Gracefully handle missing or invalid data
```jinja2
{{ user.name | default('Anonymous User') }}
{{ metrics.score | round(2) if metrics.score else 'No score available' }}
```

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

---

[Edit this page](https://github.com/langgenius/dify-docs/edit/main/en/guides/workflow/node/template.mdx) | [Report an issue](https://github.com/langgenius/dify-docs/issues/new?title=Documentation%20Issue%3A%20&body=%23%23%20Issue%20Description%0A%3C%21--%20Please%20briefly%20describe%20the%20issue%20you%20found%20--%3E%0A%0A%23%23%20Page%20Link%0Ahttps%3A%2F%2Fgithub.com%2Flanggenius%2Fdify-docs%2Fblob%2Fmain%2Fen/guides/workflow/node%2Ftemplate.mdx%0A%0A%23%23%20Suggested%20Changes%0A%3C%21--%20If%20you%20have%20specific%20suggestions%20for%20changes%2C%20please%20describe%20them%20here%20--%3E%0A%0A%3C%21--%20Thank%20you%20for%20helping%20improve%20our%20documentation%21%20--%3E)

